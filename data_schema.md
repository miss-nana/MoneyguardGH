# Synthetic Dataset Schema

## Overview
GhanaGuard uses two synthetic datasets that mirror Ghana's mobile money and banking ecosystem.
Both are generated by `src/data/generate_data.py`.

---

## 1. MoMo Transactions (`data/synthetic/momo_transactions.csv`)

| Field | Type | Description | Example |
|-------|------|-------------|---------|
| `transaction_id` | string | Unique transaction identifier | `TXN-20240115-00042` |
| `timestamp` | datetime | Transaction datetime (WAT) | `2024-01-15 22:34:11` |
| `sender_account` | string | Anonymised MoMo wallet ID | `MOMO-GH-00123` |
| `receiver_account` | string | Anonymised MoMo wallet ID | `MOMO-GH-00456` |
| `amount_ghs` | float | Transaction amount in Ghana Cedis | `480.00` |
| `transaction_type` | string | send / receive / withdraw / airtime / bill | `withdraw` |
| `channel` | string | ussd / app / agent | `agent` |
| `agent_id` | string | Agent location ID (if applicable) | `AGT-ACC-0012` |
| `merchant_category` | string | food / utility / retail / transfer / unknown | `unknown` |
| `location_region` | string | Greater Accra / Ashanti / etc. | `Greater Accra` |
| `device_id` | string | Hashed device identifier | `DEV-a3f9c2` |
| `is_new_device` | boolean | First time this device used | `True` |
| `otp_requested` | boolean | Whether OTP was part of flow | `True` |
| `linked_bank_account` | string | Linked bank account ID (if any) | `BANK-GH-00789` |
| `label` | integer | 0 = legitimate, 1 = fraudulent | `1` |
| `attack_type` | string | none / otp_phishing / ato / structured_drain / lateral | `otp_phishing` |

---

## 2. Bank Transactions (`data/synthetic/bank_transactions.csv`)

| Field | Type | Description | Example |
|-------|------|-------------|---------|
| `transaction_id` | string | Unique transaction identifier | `BANK-TXN-20240117-00089` |
| `timestamp` | datetime | Transaction datetime (WAT) | `2024-01-17 03:12:44` |
| `account_id` | string | Anonymised bank account ID | `BANK-GH-00789` |
| `linked_momo_account` | string | Linked MoMo wallet ID (if any) | `MOMO-GH-00123` |
| `amount_ghs` | float | Transaction amount in Ghana Cedis | `490.00` |
| `transaction_type` | string | transfer / withdrawal / deposit / momo_link | `transfer` |
| `channel` | string | mobile / internet / atm / branch / momo | `momo` |
| `counterparty_account` | string | Receiving account ID | `MOMO-GH-00123` |
| `balance_before_ghs` | float | Account balance before transaction | `5200.00` |
| `balance_after_ghs` | float | Account balance after transaction | `4710.00` |
| `location_region` | string | Region of transaction | `Greater Accra` |
| `is_after_hours` | boolean | Transaction outside 6am–10pm | `True` |
| `label` | integer | 0 = legitimate, 1 = fraudulent | `1` |
| `attack_type` | string | none / lateral_movement / structured_drain | `lateral_movement` |

---

## 3. Engineered Features (added during preprocessing)

| Feature | Description |
|---------|-------------|
| `velocity_1h` | Number of transactions in previous 1 hour |
| `velocity_24h` | Number of transactions in previous 24 hours |
| `amount_deviation` | Deviation from customer's 30-day median amount |
| `channel_switch_flag` | 1 if different channel from customer's usual channel |
| `new_receiver_flag` | 1 if receiver never seen before in customer history |
| `time_since_last_txn_mins` | Minutes since previous transaction |
| `cross_channel_event_flag` | 1 if linked MoMo/bank event detected within 48h window |
| `cumulative_drain_ghs` | Rolling sum of outflows in past 24h |
| `below_threshold_flag` | 1 if amount is just below common reporting thresholds |

---

*Schema version: 1.0 — February 2026*
